---
layout: post
title: iOS.Core.Animation笔记
---

![image](/AllenChiangBlog/public/upload/2014-05-04-cover_of_iOS.Core.Animation.png)

Core Animation并不只是包含动画，其实动画只是他的一部分，更合适的名称应该是Layer Kit。

## 1.The Layer Tree

凡是开发过iOS或者Mac OS应用的同学都应该知道view的概念。view是一个矩形的用于显示内容（比如图像，文字，视频等）的对象。
在iOS中，所有的view都继承自UIView。UIView可以控制用户事件并且支持Core Graphic绘图，仿射变换（例如旋转和拉伸），以及简单的动画比如滑动和渐隐。
同时你可能已经发现了UIView并不是他自己处理了这一切，其实绘图，布局和动画都是由CALayer来控制的。

##### CALayer

CALayer和UIView非常类似，最主要去区别就是CALayer不处理用户交互行为，也就是说CALayer并不能感知[responder chain](https://developer.apple.com/library/iOs/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/event_delivery_responder_chain/event_delivery_responder_chain.html)的存在所以他不能响应用户交互的事件，但他也用于对交互行为触发位置的落点判断。

我们为什么要了解CALayer的存在，因为他有一些UIView不能做的事情：

1. 阴影、圆角、多彩的border

2. 3D变化和定位

3. 非矩形的边界

4. alpha遮罩

5. 多步非线性动画